<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kurye & Ä°ÅŸletme GÃ¼nlÃ¼k Takip</title>

<style>
body{background:#0f172a;color:#e5e7eb;font-family:sans-serif;margin:0;padding:10px}
.tabs{display:flex;gap:5px}
.tabs button{flex:1;padding:10px;border:none;border-radius:6px;background:#334155;color:#fff}
.tabs button.active{background:#3b82f6}
.section{margin-top:15px}
input,button{width:100%;padding:8px;margin:4px 0;border:none;border-radius:5px}
input{background:#334155;color:#fff}
button{background:#22c55e;color:#000;font-weight:bold}
table{width:100%;border-collapse:collapse;font-size:12px;margin-top:10px}
th,td{border-bottom:1px solid #334155;padding:6px;text-align:center}
.icon{width:10px;height:10px;border-radius:50%;display:inline-block}
.red{background:#ef4444}
.green{background:#22c55e}
.blue{background:#3b82f6}
.action{font-size:14px;cursor:pointer;margin:0 4px}
small{color:#94a3b8}
</style>
</head>

<body>

<div class="tabs">
  <button id="kuryeTab" class="active" onclick="showTab('kurye')">Kurye</button>
  <button id="isletmeTab" onclick="showTab('isletme')">Ä°ÅŸletme</button>
</div>

<!-- KURYE -->
<div id="kurye" class="section">
<h3>Kurye GÃ¼nlÃ¼k KayÄ±t</h3>
<input id="k_ad" placeholder="Kurye adÄ±">
<input id="k_paket" type="number" placeholder="Paket sayÄ±sÄ±">
<input id="k_ucret" type="number" placeholder="Paket Ã¼creti">
<input id="k_odeme" type="number" placeholder="Ã–deme (varsa)">
<button onclick="ekleKurye()">Kaydet</button>

<div id="kuryeToplam"></div>

<table>
<thead>
<tr><th>Durum</th><th>Tarih</th><th>Kurye</th><th>Paket</th><th>Tutar</th><th>Ã–deme</th><th>Bakiye</th><th>Ä°ÅŸlem</th></tr>
</thead>
<tbody id="kuryeListe"></tbody>
</table>
</div>

<!-- Ä°ÅLETME -->
<div id="isletme" class="section" style="display:none">
<h3>Ä°ÅŸletme GÃ¼nlÃ¼k KayÄ±t</h3>
<input id="i_ad" placeholder="Ä°ÅŸletme adÄ±">
<input id="i_paket" type="number" placeholder="Paket (yoksa boÅŸ)">
<input id="i_tel" type="number" placeholder="Paket Ã¼creti">
<input id="i_odeme" type="number" placeholder="Ã–deme (varsa)">
<button onclick="ekleIsletme()">Kaydet</button>

<table>
<thead>
<tr><th>Durum</th><th>Tarih</th><th>Ä°ÅŸletme</th><th>Paket</th><th>Tutar</th><th>Ã–deme</th><th>Bakiye</th><th>Ä°ÅŸlem</th></tr>
</thead>
<tbody id="isletmeListe"></tbody>
</table>
</div>

<script>
let kurye = JSON.parse(localStorage.getItem("kurye"))||[]
let isletme = JSON.parse(localStorage.getItem("isletme"))||[]

function showTab(t){
document.getElementById("kurye").style.display=t=="kurye"?"block":"none"
document.getElementById("isletme").style.display=t=="isletme"?"block":"none"
kuryeTab.classList.toggle("active",t=="kurye")
isletmeTab.classList.toggle("active",t=="isletme")
}

function tarih(){return new Date().toLocaleDateString("tr-TR")}

function durumIcon(b){
if(b>0)return'<span class="icon blue"></span>'
if(b<0)return'<span class="icon red"></span>'
return'<span class="icon green"></span>'
}

/* KURYE */
function ekleKurye(){
let p=+k_paket.value||0,u=+k_ucret.value||0,o=+k_odeme.value||0
let t=p*u
kurye.push({t:tarih(),ad:k_ad.value,p:p,tutar:t,odeme:o,bakiye:t-o})
kaydet()
}

function kuryeListele(){
let html="",tp=0,to=0
kurye.forEach((x,i)=>{
tp+=x.p;to+=x.bakiye
html+=`<tr>
<td>${durumIcon(x.bakiye)}</td>
<td>${x.t}</td><td>${x.ad}</td><td>${x.p}</td>
<td>${x.tutar}</td><td>${x.odeme}</td><td>${x.bakiye}</td>
<td>
<span class="action" onclick="duzenleKurye(${i})">âœï¸</span>
<span class="action" onclick="silKurye(${i})">ğŸ—‘</span>
</td></tr>`
})
kuryeListe.innerHTML=html
kuryeToplam.innerHTML=`<small>Toplam Paket: ${tp} | Net: ${to}</small>`
}

/* Ä°ÅLETME */
function ekleIsletme(){
let p=+i_paket.value||0,tel=+i_tel.value||0,o=+i_odeme.value||0
let t=p*tel
isletme.push({t:tarih(),ad:i_ad.value,p:p,tutar:t,odeme:o,bakiye:t-o})
kaydet()
}

function isletmeListele(){
let html=""
isletme.forEach((x,i)=>{
html+=`<tr>
<td>${durumIcon(x.bakiye)}</td>
<td>${x.t}</td><td>${x.ad}</td><td>${x.p}</td>
<td>${x.tutar}</td><td>${x.odeme}</td><td>${x.bakiye}</td>
<td>
<span class="action" onclick="duzenleIsletme(${i})">âœï¸</span>
<span class="action" onclick="silIsletme(${i})">ğŸ—‘</span>
</td></tr>`
})
isletmeListe.innerHTML=html
}

function silKurye(i){if(confirm("Silinsin mi?")){kurye.splice(i,1);kaydet()}}
function silIsletme(i){if(confirm("Silinsin mi?")){isletme.splice(i,1);kaydet()}}

function duzenleKurye(i){
let x=kurye[i]
let p=prompt("Paket",x.p);if(p===null)return
let o=prompt("Ã–deme",x.odeme)
x.p=+p;x.odeme=+o;x.tutar=x.p*(x.tutar/x.p||0);x.bakiye=x.tutar-x.odeme
kaydet()
}

function duzenleIsletme(i){
let x=isletme[i]
let p=prompt("Paket",x.p);if(p===null)return
let o=prompt("Ã–deme",x.odeme)
x.p=+p;x.odeme=+o;x.tutar=x.tutar;x.bakiye=x.tutar-x.odeme
kaydet()
}

function kaydet(){
localStorage.setItem("kurye",JSON.stringify(kurye))
localStorage.setItem("isletme",JSON.stringify(isletme))
kuryeListele();isletmeListele()
}

kaydet()
</script>
</body>
</html>
